<!DOCTYPE html>
<html>
  <head>
        <!--link rel="stylesheet" href="/fonts/junction-regular-fontfacekit/stylesheet.css" />
    <link rel="stylesheet" href="/fonts/League-Gothic-fontfacekit/stylesheet.css" />
    <link rel="stylesheet" href="/fonts/M-1m-fontfacekit/stylesheet.css" / -->
    <link rel="stylesheet" href="/css/reset.css" />
    <link rel="stylesheet" href="/css/main.css" />
    <link rel="stylesheet" href="/css/pygments-native.css" />
    <!-- link rel="stylesheet/less" type="text/css" href="/less/main.less" /-->
    <!-- script src="/js/less-1.1.3.min.js" type="text/javascript"></script -->

  </head>
  <body>
    <header>
      <h1>unpluggd</h1> is the personal blog of Phillip Oldham, 
      a Python developer living in Leeds, UK.
    </header>
    <article id="main">
      <h2>Installing Thrift on OpenSolaris</h2>
      <p>...is truly a nightmare. Following the standard install instructions, albeit with some tweaks, will get you nowhere on the OpenSolaris platform. There are many, many obstacles to overcome, and my unix-foo isn't nearly strong enough.</p>

<p>Thankfully, others have happened across the same problems. The <a href="http://code.google.com/p/hypertable">HyperTable</a> project, a very admirable NoSQL database, have available a <a href="http://www.hypertable.org/pub/thrift-r820857-solaris.tgz">version of thrift</a> which has been tweaked to run on OpenSolaris. Using this, and a take on their <a href="http://code.google.com/p/hypertable/wiki/HowToBuildSolaris">installation script</a>, we can get a working version of thrift.</p>

<p>Here's a script with all the commands to get you started:</p>

<pre><code>#!/bin/bash

# Common Packages
pkg install SUNWgcc
pkg install SUNWgmake
pkg install SUNWcmake
pkg install SUNWlibevent
pkg install java-dev

# SLF4J
cd /usr/src
wget http://www.slf4j.org/dist/slf4j-1.5.11.tar.gz -O- | tar zx
mv slf4j-1.5.11 /usr/share/lib/slf4j

# Apache Commons
cd /usr/src
mkdir /usr/share/lib/apache-commons
wget http://mirror.fubra.com/ftp.apache.org/commons/lang/binaries/commons-lang-2.5-bin.tar.gz -O- | tar zx
mv commons-lang-2.5/ /usr/share/lib/apache-commons/lang

# Boost
cd /usr/src
wget http://downloads.sourceforge.net/boost/boost_1_40_0.tar.bz2 -O- | tar jx
cd boost_1_40_0
./bootstrap.sh --with-libraries=filesystem,iostreams,program_options,system,thread,graph
./bjam install

# Thrift
cd /usr/src
wget wget http://www.hypertable.org/pub/thrift-r820857-solaris.tgz -O- | tar zx
cd thrift
export CLASSPATH=.:/usr/share/lib/slf4j/slf4j-api-1.5.11.jar:/usr/share/lib/slf4j/slf4j-simple-1.5.11.jar:/usr/share/lib/slf4j/log4j-over-slf4j-1.5.11.jar:/usr/share/lib/slf4j/slf4j-ext-1.5.11.jar:/usr/share/lib/slf4j/slf4j-migrator-1.5.11.jar:/usr/share/lib/apache-commons/lang/commons-lang-2.5.jar
./configure --prefix=/usr CPPFLAGS='-D__BYTE_ORDER=__BIG_ENDIAN -DAF_LOCAL=AF_UNIX' LIBS='-lsocket'
</code></pre>

    </article>
    <footer>
            <div id="posts">
        <h3>Recent Posts</h3>
        <div>
          
          <h4><a href="/2010/06/23/user-agent-string-for-ipad-s-media-player-app.html">User Agent String for iPad's Media Player app</a></h4>
          <p></p>
          
          <h4><a href="/2010/06/02/compiling-lxml-libxml2-libxslt-for-a-virtualenv.html">Compiling lxml/libxml2/libxslt for a virtualenv</a></h4>
          <p></p>
          
          <h4><a href="/2010/04/30/mysql-the-libtoolt-error-on-x86-64.html">MySQL & the libtoolT error on x86_64</a></h4>
          <p></p>
          
        </div>
        <p>View more <a href="/archive.html">posts</a>.</p>
      </div>

            <div id="projects">
        <h3>Projects</h3>
        <div>
          <h4>FWRD</h4>
          <p>FWRD is a Python Micro-Framework designed to GetOutOfTheWay.</p>
          <p>
            <a href="//github.com/unpluggd/FWRD">View this project on GitHub</a>
            <a href="/FWRD">Documentation</a>
          </p>
        </div>
        <div>
          <h4>PySO8601</h4>
          <p>A better ISO8601 module for Python.</p>
          <p>
            <a href="//github.com/unpluggd/PySO8601">View this project on GitHub</a>
            <a href="/PySO8601">Documentation</a>
          </p>
        </div>
        <div>
          <h4>exemelopy</h4>
          <p>A module for encoding Python data types as XML.</p>
          <p>
            <a href="//github.com/unpluggd/exemelopy">View this project on GitHub</a>
            <a href="/exemelopy">Documentation</a>
          </p>
        </div>
        <p>View my other <a href="//github.com/unpluggd" target="_blank">GitHub projects</a>.</p>
      </div>

    </footer>
  </body>
</html>
