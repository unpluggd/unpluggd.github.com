<!DOCTYPE html>
<html>
  <head>
        <!-- HTML5 shim for IE6-8 support of new elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--link rel="stylesheet" href="/fonts/junction-regular-fontfacekit/stylesheet.css" />
    <link rel="stylesheet" href="/fonts/League-Gothic-fontfacekit/stylesheet.css" />
    <link rel="stylesheet" href="/fonts/M-1m-fontfacekit/stylesheet.css" / -->
    <!-- link rel="stylesheet" href="/css/reset.css" />
    <link rel="stylesheet" href="/css/main.css" />
    <link rel="stylesheet" href="/css/pygments-native.css" /-->
    <script type="text/javascript" src="http://use.typekit.com/wvj7lcm.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    <link rel="stylesheet" href="//twitter.github.com/bootstrap/1.4.0/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/main.css" />
    <title>unpluggd, the personal blog of Phillip B Oldham</title>

  </head>
  <body>
        <header class="container">
      <div class="row">
        <h1 class="span11"><span>unpluggd</span></h1> 
        <p class="span5">
          <span class="hidden">unpluggd is</span> the personal 
          blog of <span class="nowrap">Phillip Oldham</span>, 
          a Python developer living in Leeds, UK.
        </p>
      </div>
    </header>

    <article id="latest" class="container">
      
<h1>
  <a href="/2012/05/24/using-travis-ci-with-submodules.html" rel="bookmark" title="Permanent link to Using Travis-CI with submodules">
    Using Travis-CI with submodules
  </a>
</h1>

<p>I recently started using <a href="http://travis-ci.org">travis-ci</a> for continuous integration testing with my various projects (mainly <a href="http://github.com/unpluggd/FWRD">FWRD</a>). Now it's working, I'm really happy with the results; having the highlighted output generated by my spec config shown in the output is a nice touch.</p>

<p>However, it was initially a pain to use. Firstly, there was no documentation on how to use it with my preferred Python sandboxing system, zc.buildout. Secondly, once I had the config correct, I got a weird error from the build:</p>

<pre><code>Using worker: ruby4.worker.travis-ci.org:travis-ruby-3
$ cd ~/builds
$ git clone --depth=100 --quiet git://github.com/unpluggd/FWRD.git unpluggd/FWRD
$ cd unpluggd/FWRD
$ git checkout -qf 84315504720c010cb6c92b352c9833739403368e
$ git submodule init
Submodule 'docs/build' (git@github.com:unpluggd/FWRD.git) registered for path 'docs/build'
$ git submodule update
Cloning into docs/build...
Warning: Permanently added 'github.com,207.97.227.239' (RSA) to the list of known hosts.
Permission denied (publickey).
fatal: The remote end hung up unexpectedly
Clone of 'git@github.com:unpluggd/FWRD.git' into submodule path 'docs/build' failed
Done. Build script exited with: 1
</code></pre>

<p>A little help from the guys in the IRC channel led me to the fact that travis-ci cannot download a submodule that isn't on a public url (git://, https://). This causes a problem for me, since I manage my docs using a zc.buildout script and the submodule I set-up points to the <code>gh-pages</code> branch in the repository.</p>

<p>The only way to get this to work for both instances is to change the url for the submodule from <code>git@github.com:user/repo.git</code> to <code>https://user@github.com/user/repo.git</code> - which will work fine with travis but will require you to enter your github password if you wish to update/commit your submodule.</p>




    </article>
    <footer class="container">
      <section id="posts" class="container">
  <h3 class="span16">Recent Posts</h3>
  
  <div class="rowwrapper">
  <div class="row">
    <h4 class="span5"><a href="/2011/01/27/installing-pyyaml-for-jython+copy.html">Installing PyYAML for Jython</a></h4>
    <p class="span11">PyYAML by default tries to create a C module again... <a href="/2011/01/27/installing-pyyaml-for-jython+copy.html">read more</a></p>
  </div>
  </div>
  
  <div class="rowwrapper">
  <div class="row">
    <h4 class="span5"><a href="/2010/06/23/user-agent-string-for-ipad-s-media-player-app.html">User Agent String for iPad's Media Player app</a></h4>
    <p class="span11">Just in case you were wondering what the user-agen... <a href="/2010/06/23/user-agent-string-for-ipad-s-media-player-app.html">read more</a></p>
  </div>
  </div>
  
  <div class="rowwrapper">
  <div class="row">
    <h4 class="span5"><a href="/2010/06/02/compiling-lxml-libxml2-libxslt-for-a-virtualenv.html">Compiling lxml/libxml2/libxslt for a virtualenv</a></h4>
    <p class="span11">Sometimes you need to ensure `lxml` is using the l... <a href="/2010/06/02/compiling-lxml-libxml2-libxslt-for-a-virtualenv.html">read more</a></p>
  </div>
  </div>
  
  <div class="row">
    <p class="span11 offset5 more"><a href="/archive.html">View more posts</a></p>
  </div>
</section>

            <section id="projects" class="container">
        <h3>Open-Source Projects</h3>
        <div class="rowwrapper">
        <div class="row">
          <h4 class="span5">FWRD</h4>
          <p class="span11">FWRD is a Python Micro-Framework designed to GetOutOfTheWay.</p>
          <p class="span11 offset5">
            <a href="//github.com/unpluggd/FWRD">View this project on GitHub</a>
            <a href="/FWRD">Documentation</a>
          </p>
        </div>
        </div>
        <div class="rowwrapper">
        <div class="row">
          <h4 class="span5">PySO8601</h4>
          <p class="span11">A better ISO8601 module for Python.</p>
          <p class="span11 offset5">
            <a href="//github.com/unpluggd/PySO8601">View this project on GitHub</a>
            <a href="/PySO8601">Documentation</a>
          </p>
        </div>
        </div>
        <div class="rowwrapper">
        <div class="row">
          <h4 class="span5">exemelopy</h4>
          <p class="span11">A module for encoding Python data types as XML.</p>
          <p class="span11 offset5">
            <a href="//github.com/unpluggd/exemelopy">View this project on GitHub</a>
            <a href="/exemelopy">Documentation</a>
          </p>
        </div>
        </div>
        <div class="row">
          <p class="span11 offset5 more"><a href="//github.com/unpluggd" target="_blank">View my other GitHub projects</a></p>
        </div>
      </section>

      <div class="termswrapper">
<div id="terms" class="row">
<p class="span5">&#169; 2009-2012 Phillip B Oldham.</p>
<p class="span11">This is a personal weblog. The opinions expressed here represent my own 
and not those of my employer. My thoughts and opinions may change from from time to time; 
I consider this a necessary consequence of having an open mind. This weblog is intended 
to provide a semi-permanent point in time snapshot and manifestation of the various 
memes running around my brain, and as such any thoughts and opinions expressed within 
out-of-date posts may not the same, nor even similar, to those I may hold today.
</p>
</div>
</div>

    </footer>
  </body>
</html>
